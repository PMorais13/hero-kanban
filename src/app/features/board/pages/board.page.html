<section class="board" aria-labelledby="board-heading">
  <header class="board__header">
    <div class="board__heading">
      <h1 id="board-heading">Quadro de tarefas</h1>
      <p>Organize histórias e tarefas em andamento com limites claros por etapa.</p>
    </div>
    <div class="board__header-actions" role="group" aria-label="Ações do quadro">
      <button type="button" mat-flat-button color="primary" (click)="openCreateStory()">
        <mat-icon fontSet="material-symbols-rounded">add_circle</mat-icon>
        Nova história
      </button>
      <button type="button" mat-stroked-button color="accent">
        <mat-icon fontSet="material-symbols-rounded">playlist_add</mat-icon>
        Nova tarefa
      </button>
    </div>
  </header>

  <section class="board__toolbar" aria-label="Filtros das tarefas">
    <div class="board__filters" role="region" aria-label="Filtrar tarefas por sprint">
      <mat-form-field appearance="fill" class="board__filter">
        <mat-label>Sprint</mat-label>
        <mat-select [value]="selectedSprintId()" (valueChange)="onSprintFilterSelected($event)">
          <mat-option *ngFor="let option of sprintOptions()" [value]="option.id">
            {{ option.label }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </section>

  <section class="board__columns" role="list">
    <kanban-board-column
      *ngFor="let column of columns(); trackBy: trackColumn"
      [column]="column"
      role="listitem"
    ></kanban-board-column>
  </section>

  <kanban-create-story-modal
    *ngIf="isCreatingStory()"
    [features]="features()"
    [statusOptions]="statusOptions()"
    [sprints]="sprints()"
    [activeSprintId]="selectedSprintId()"
    (dismissed)="closeCreateStory()"
    (submitted)="onStorySubmitted($event)"
  ></kanban-create-story-modal>
</section>
