<mat-sidenav-container class="shell-container">
  <mat-sidenav
    class="shell-sidenav"
    [mode]="'over'"
    [opened]="isMenuOpen()"
    (openedChange)="handleSidenavStateChange($event)"
    (keydown)="handleMenuKeydown($event)"
    role="navigation"
    aria-label="Menu lateral do jogador"
  >
    <header class="shell-sidenav__header">
      <h2>Central do herói</h2>
      <button type="button" mat-icon-button (click)="closeMenu()" aria-label="Fechar menu lateral">
        <mat-icon fontSet="material-symbols-rounded">close</mat-icon>
      </button>
    </header>

    <mat-nav-list>
      <h3 matSubheader>Navegação</h3>
      <a
        mat-list-item
        *ngFor="let item of navItems"
        [routerLink]="item.link"
        routerLinkActive="is-active"
        (click)="closeMenu()"
        [routerLinkActiveOptions]="item.exact ? exactMatchOptions : defaultMatchOptions"
      >
        <mat-icon matListItemIcon fontSet="material-symbols-rounded">{{ item.icon }}</mat-icon>
        <span matListItemTitle>{{ item.label }}</span>
        <span matListItemLine>{{ item.description }}</span>
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar color="primary" class="shell-toolbar">
      <button type="button" mat-icon-button (click)="toggleMenu()" aria-label="Abrir menu do jogador">
        <mat-icon fontSet="material-symbols-rounded">menu</mat-icon>
      </button>
      <div class="shell-toolbar__brand">
        <span class="shell-toolbar__logo" aria-hidden="true">HK</span>
        <div class="shell-toolbar__titles">
          <a routerLink="/" routerLinkActive="is-active" [routerLinkActiveOptions]="exactMatchOptions">
            Hero Kanban
          </a>
          <p>Fluxo de trabalho épico com objetivos compartilhados.</p>
        </div>
      </div>
      <span class="shell-toolbar__spacer"></span>
      <mat-chip class="shell-toolbar__chip" color="accent" selected aria-label="Nível atual da guilda">
        <mat-icon matChipAvatar fontSet="material-symbols-rounded">military_tech</mat-icon>
        Lvl {{ experience().level }}
      </mat-chip>
    </mat-toolbar>

    <section class="shell-progress" aria-live="polite" aria-label="Progresso de experiência da guilda">
      <mat-progress-bar mode="determinate" [value]="experienceProgress()"></mat-progress-bar>
      <p>
        {{ experience().current }} XP acumulado · faltam {{ remainingExperience() }} XP para o próximo nível
      </p>
    </section>

    <main class="shell-main" role="main">
      <router-outlet></router-outlet>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
